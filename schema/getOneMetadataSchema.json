{
  "$id": "http://localhost:8080/json-schema/getOneMetadataSchema.json",
  "base": "http://localhost:8080/api",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Object metadata schema",
  "description": "Metadata schema for all types of objects",
  "type": "object",
  "required": [
    "data"
  ],
  "properties": {
    "additionalProperties": false,
    "data": {
      "type": "object",
      "required": [
        "id",
        "type",
        "attributes"
      ],
      "properties": {
        "id": {
          "type": "string",
          "description": "Identifier of the object as UUID"
        },
        "type": {
          "const": "metadata",
          "description": "The type of the object of the data being returned."
        },
        "attributes": {
          "description": "Schema representing the metadata associated with objects",
          "type": "object",
          "required": [
            "fileIdentifier",
            "bucket",
            "dcFormat",
            "dcType",
            "acDigitizationDate",
            "xmpUsageTerms",
            "xmpRightsWebStatement",
            "dcRights"
          ],
          "properties": {
            "dcFormat": {
              "type": "string",
              "description": "A string describing the technical format of the resource. IANA media type. https://tdwg.github.io/ac/termlist/#dc_format"
            },
            "dcType": {
              "enum": [
                "Image",
                "MovingImage",
                "Sound",
                "Text",
                "Dataset"
              ],
              "description": "Type of object stored. Higher level than mediaType. https://tdwg.github.io/ac/termlist/#dc_type"
            },
            "fileIdentifier": {
              "type": "string",
              "description": "Identifier (as UUID) of the file described by the metadata"
            },
            "bucket": {
              "type": "string",
              "description": "Namespace of the file described by the metadata"
            },
            "acCaption": {
              "type": "string",
              "description": "Text to be displayed together with (rather than instead of) a resource that is suitable for captions. https://terms.tdwg.org/wiki/Audubon_Core_Term_List#ac:caption"
            },
            "acDigitizationDate": {
              "type": "string",
              "description": "Date (ISO 8601 Date/Time) the first digital version was created. https://tdwg.github.io/ac/termlist/#ac_digitizationDate"
            },
            "xmpMetadataDate": {
              "type": "string",
              "description": "Point in time (ISO 8601 Date/Time) recording when the last modification to metadata (not necessarily the media object itself) occurred. Automatically set. https://tdwg.github.io/ac/termlist/#xmp_MetadataDate"
            },
            "originalFilename": {
              "type": "string",
              "description": "Name of the file at the source without the folder structure"
            },
            "fileExtension": {
              "type": "string",
              "description": "Extension of the file including the dot (e.g. '.png')"
            }, 
            "acHashFunction": {
              "type": "string",
              "description": "The cryptographic hash function used to compute the value given in acHashValue. https://tdwg.github.io/ac/termlist/#ac_hashFunction"
            },
            "acHashValue": {
              "type": "string",
              "description": "Hash of the uploaded object. Automaticaly generated on successful file upload. https://tdwg.github.io/ac/termlist/#ac_hashValue"
            },
            "xmpUsageTerms": {
              "type": "string",
              "description": "Text instructions on how a resource can be legally used. https://tdwg.github.io/ac/termlist/#xmpRights_UsageTerms"
            }, 
            "xmpRightsWebStatement": {
              "type": "string",
              "description": "A URL defining or further elaborating on the license statement. https://tdwg.github.io/ac/termlist/#xmpRights_WebStatement"
            },
            "dcRights": {
              "type": "string",
              "description": "Information about rights held in and over the resource. https://tdwg.github.io/ac/termlist/#dc_rights"
            },
            "xmpRightsOwner": {
              "type": "string",
              "description": "Owner(s) of the copyright. https://terms.tdwg.org/wiki/Audubon_Core_Term_List#xmpRights:Owner"
            },
            "createdDate": {
              "type": "string",
              "description": "Point in time (ISO 8601 Date/Time) recording when the metadata entry was created."
            },
            "deletedDate": {
              "type": "string",
              "description": "Point in time (ISO 8601 Date/Time) recording when the metadata entry was deleted. If empty or null, the metadata is considered not deleted."
            },
            "managedAttributes": {
              "type": "array",
              "items": [
                {
                  "type": [
                    "object"
                  ]
                }
              ],
              "description": "List of key/value pairs of managed attributes."
            },
            "acTags": {
              "type": "array",
              "items": [
                {
                  "type": [
                    "string"
                  ]
                }
              ],
              "description": "List of key(tag). Similar to https://tdwg.github.io/ac/termlist/#ac_tag"
            }
          }
        },
        "relationships": {
          "properties": {
            "dcCreator": {
              "data": { 
              "type": "object",
              "required": [
                 "id",
                 "type"
               ],
               "properties": {
                  "id": {
                    "type": "string",
                    "description": "The id of the dcCreator."
                  },
                  "type": {
                    "const": "agent",
                    "description": "The type of the dcCreator object."
                  }
                }      			  
              }              
            },
            "acMetadataCreator": {
              "data": { 
              "type": "object",
              "required": [
                 "id",
                 "type"
               ],
               "properties": {
                  "id": {
                    "type": "string",
                    "description": "The id of the acMetadataCreator."
                  },
                  "type": {
                    "const": "agent",
                    "description": "The type of the acMetadataCreator object."
                  }
                }      			  
              }              
            },
            "acDerivedFrom": {
              "data": { 
              "type": "object",
              "required": [
                 "id",
                 "type"
               ],
               "properties": {
                  "id": {
                    "type": "string",
                    "description": "The id of the metadata from which the object represented by this metadata is derived from."
                  },
                  "type": {
                    "const": "metadata",
                    "description": "The type of the acDerivedFrom object. https://tdwg.github.io/ac/termlist/#ac_derivedFrom"
                  }
                }      			  
              }              
            }               
          }
        }
      }
    }
  }
}
